<!-- SCC Module - All Mechanisms -->
<div class="card bg-base-100 shadow-md mb-6">
    <div class="card-body">
        <h3 class="card-title text-blue-900">Stress Corrosion Cracking (SCC)</h3>

        <!-- PROBABILITY SUMMARY PANEL -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
            <!-- Left: Damage Factor Summary Table -->
            <div class="card bg-white shadow">
                <div class="card-body p-4">
                    <h4 class="font-bold text-lg text-purple-900 mb-4">Probability of Failure (1 to 4)</h4>
                    <div class="grid grid-cols-2 gap-3">
                        <!-- Metal Loss -->
                        <div class="flex justify-between items-center p-2 bg-gray-50 rounded">
                            <span class="text-gray-700 font-medium">Metal Loss</span>
                            <span id="pof_metal_loss" class="text-2xl font-bold text-orange-600">5</span>
                        </div>

                        <!-- Cracking -->
                        <div class="flex justify-between items-center p-2 bg-gray-50 rounded">
                            <span class="text-gray-700 font-medium">Cracking</span>
                            <span id="pof_cracking" class="text-2xl font-bold text-orange-600">3</span>
                        </div>

                        <!-- Mechanical -->
                        <div class="flex justify-between items-center p-2 bg-gray-50 rounded">
                            <span class="text-gray-700 font-medium">Mechanical</span>
                            <span id="pof_mechanical" class="text-2xl font-bold text-gray-400">0</span>
                        </div>

                        <!-- Metallurgical -->
                        <div class="flex justify-between items-center p-2 bg-gray-50 rounded">
                            <span class="text-gray-700 font-medium">Metallurgical</span>
                            <span id="pof_metallurgical" class="text-2xl font-bold text-gray-400">0</span>
                        </div>

                        <!-- External -->
                        <div class="flex justify-between items-center p-2 bg-gray-50 rounded">
                            <span class="text-gray-700 font-medium">External</span>
                            <span id="pof_external" class="text-2xl font-bold text-orange-600">3</span>
                        </div>

                        <!-- Other -->
                        <div class="flex justify-between items-center p-2 bg-gray-50 rounded">
                            <span class="text-gray-700 font-medium">Other</span>
                            <span id="pof_other" class="text-2xl font-bold text-gray-400">0</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right: PoF Chart -->
            <div class="card bg-white shadow">
                <div class="card-body p-4">
                    <h4 class="font-bold text-lg text-purple-900 mb-4">PoF Chart</h4>
                    <div style="height: 250px; position: relative;">
                        <canvas id="pof_chart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- SCC Mechanism Tabs -->
        <div role="tablist" class="tabs tabs-boxed bg-gray-100">
            <a role="tab" class="tab tab-active" onclick="showSCCMech('caustic')">Caustic</a>
            <a role="tab" class="tab" onclick="showSCCMech('amine')">Amine</a>
            <a role="tab" class="tab" onclick="showSCCMech('ssc')">SSC</a>
            <a role="tab" class="tab" onclick="showSCCMech('hic')">HIC/SOHIC</a>
            <a role="tab" class="tab" onclick="showSCCMech('acscc')">ACSCC</a>
            <a role="tab" class="tab" onclick="showSCCMech('pascc')">PASCC</a>
            <a role="tab" class="tab" onclick="showSCCMech('clscc')">ClSCC</a>
            <a role="tab" class="tab" onclick="showSCCMech('hsc_hf')">HSC-HF</a>
        </div>


        <!-- Caustic Cracking -->
        <div id="scc_mech_caustic" class="scc-mechanism-content">
            <div class="form-control mt-4">
                <label class="label cursor-pointer justify-start gap-2">
                    {{ form.mechanism_scc_caustic_active }}
                    <span class="label-text font-semibold">Enable Caustic Cracking Mechanism?</span>
                </label>
            </div>

            <div id="scc_caustic_container" class="hidden mt-4 space-y-4">
                <!-- Alert for missing data -->
                <div id="scc_caustic_alerts" class="hidden alert alert-warning">
                    <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none"
                        viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                    </svg>
                    <span>Missing Data: <span id="scc_caustic_missing_fields"></span></span>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Are cracks observed?</span></label>
                        {{ form.scc_caustic_cracks_observed }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Have cracks been
                                removed?</span></label>
                        {{ form.scc_caustic_cracks_removed }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Is component Stress Relieved /
                                PWHT?</span></label>
                        {{ form.scc_caustic_stress_relieved }}
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">NaOH Concentration
                                (%)</span></label>
                        {{ form.scc_caustic_naoh_conc_percent }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Steamed Out Prior to
                                Service?</span></label>
                        {{ form.scc_caustic_steamed_out_prior }}
                    </div>
                </div>

                <div class="divider">Inspection History (Specific to Caustic SCC)</div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat A</span></label>
                        {{ form.scc_caustic_inspection_count_a }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat B</span></label>
                        {{ form.scc_caustic_inspection_count_b }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat C</span></label>
                        {{ form.scc_caustic_inspection_count_c }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat D</span></label>
                        {{ form.scc_caustic_inspection_count_d }}
                    </div>
                </div>

                <div id="scc_caustic_results_area" class="mt-6 p-4 bg-gray-50 rounded-lg border">
                    <h4 class="font-bold text-gray-700 mb-3">Calculated Results</h4>
                    <div class="space-y-2">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Susceptibility:</span>
                            <span id="res_scc_caustic_susceptibility" class="font-bold text-gray-800">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">SVI:</span>
                            <span id="res_scc_caustic_svi" class="font-bold text-gray-800">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Damage Factor:</span>
                            <span id="res_scc_caustic_df" class="font-bold text-blue-900 text-2xl">--</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Amine Cracking -->
        <div id="scc_mech_amine" class="scc-mechanism-content hidden">
            <div class="form-control mt-4">
                <label class="label cursor-pointer justify-start gap-2">
                    {{ form.mechanism_scc_amine_active }}
                    <span class="label-text font-semibold">Enable Amine Cracking Mechanism?</span>
                </label>
            </div>
            <div id="scc_amine_container" class="hidden mt-4 space-y-4">
                <!-- Alert for missing data -->
                <div id="scc_amine_alerts" class="hidden alert alert-warning">
                    <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none"
                        viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                    </svg>
                    <span>Missing Data: <span id="scc_amine_missing_fields"></span></span>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Are cracks observed?</span></label>
                        {{ form.scc_amine_cracks_observed }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Have cracks been
                                removed?</span></label>
                        {{ form.scc_amine_cracks_removed }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Stress Relieved?</span></label>
                        {{ form.scc_amine_stress_relieved }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Exposed to Lean
                                Amine?</span></label>
                        {{ form.scc_amine_lean_amine }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Amine Solution Type</span></label>
                        {{ form.scc_amine_solution_type }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Steamed Out?</span></label>
                        {{ form.scc_amine_steamed_out }}
                    </div>
                </div>
                <div class="divider">Inspection History</div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat A</span></label>
                        {{ form.scc_amine_inspection_count_a }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat B</span></label>
                        {{ form.scc_amine_inspection_count_b }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat C</span></label>
                        {{ form.scc_amine_inspection_count_c }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat D</span></label>
                        {{ form.scc_amine_inspection_count_d }}
                    </div>
                </div>

                <div id="scc_amine_results_area" class="mt-6 p-4 bg-gray-50 rounded-lg border">
                    <h4 class="font-bold text-gray-700 mb-3">Calculated Results</h4>
                    <div class="space-y-2">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Susceptibility:</span>
                            <span id="res_scc_amine_susceptibility" class="font-bold text-gray-800">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">SVI:</span>
                            <span id="res_scc_amine_svi" class="font-bold text-gray-800">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Damage Factor:</span>
                            <span id="res_scc_amine_df" class="font-bold text-blue-900 text-2xl">--</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SSC -->
        <div id="scc_mech_ssc" class="scc-mechanism-content hidden">
            <div class="form-control mt-4">
                <label class="label cursor-pointer justify-start gap-2">
                    {{ form.mechanism_scc_ssc_active }}
                    <span class="label-text font-semibold">Enable SSC Mechanism?</span>
                </label>
            </div>
            <div id="scc_ssc_container" class="hidden mt-4 space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- pH is now read from 'Operating -> Chemical Properties' -->
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">H2S Content (ppm)</span></label>
                        {{ form.scc_ssc_h2s_ppm }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Max Hardness (HB)</span></label>
                        {{ form.scc_ssc_hardness_hb }}
                    </div>
                    <!-- PWHT is now read from 'Design / Installation -> Codes' -->
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Cracks Observed?</span></label>
                        {{ form.scc_ssc_cracks_observed }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Cracks Removed?</span></label>
                        {{ form.scc_ssc_cracks_removed }}
                    </div>
                </div>
                <div class="divider">Inspection History</div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat A</span></label>
                        {{ form.scc_ssc_inspection_count_a }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat B</span></label>
                        {{ form.scc_ssc_inspection_count_b }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat C</span></label>
                        {{ form.scc_ssc_inspection_count_c }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat D</span></label>
                        {{ form.scc_ssc_inspection_count_d }}
                    </div>
                </div>
                <div id="scc_ssc_results_area" class="mt-6 p-4 bg-gray-50 rounded-lg border">
                    <h4 class="font-bold text-gray-700 mb-3">Calculated Results</h4>
                    <div class="space-y-2">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Susceptibility:</span>
                            <span id="res_scc_ssc_susceptibility" class="font-bold text-gray-800">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">SVI:</span>
                            <span id="res_scc_ssc_svi" class="font-bold text-gray-800">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Damage Factor:</span>
                            <span id="res_scc_ssc_df" class="font-bold text-blue-900 text-2xl">--</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- HIC/SOHIC -->
        <div id="scc_mech_hic" class="scc-mechanism-content hidden">
            <div class="form-control mt-4">
                <label class="label cursor-pointer justify-start gap-2">
                    {{ form.mechanism_scc_hic_h2s_active }}
                    <span class="label-text font-semibold">Enable HIC/SOHIC-H2S Mechanism?</span>
                </label>
            </div>
            <div id="scc_hic_container" class="hidden mt-4 space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="form-control">
                        <!-- Redundant pH removed -->
                        <!-- <label class="label"><span class="label-text font-semibold">pH</span></label> -->
                        <!-- {{ form.scc_hic_h2s_ph }} -->
                        <div class="alert alert-info text-xs py-2">
                            <span>pH comes from Operating Tab</span>
                        </div>
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">H2S (ppm)</span></label>
                        {{ form.scc_hic_h2s_h2s_ppm }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Cyanide Present?</span></label>
                        {{ form.scc_hic_h2s_cyanide_present }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Banding Severity</span></label>
                        {{ form.scc_hic_h2s_banding_severity }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Cracks Observed?</span></label>
                        {{ form.scc_hic_h2s_cracks_observed }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Cracks Removed?</span></label>
                        {{ form.scc_hic_h2s_cracks_removed }}
                    </div>
                </div>
                <div class="divider">Inspection History</div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat A</span></label>
                        {{ form.scc_hic_h2s_inspection_count_a }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat B</span></label>
                        {{ form.scc_hic_h2s_inspection_count_b }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat C</span></label>
                        {{ form.scc_hic_h2s_inspection_count_c }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat D</span></label>
                        {{ form.scc_hic_h2s_inspection_count_d }}
                    </div>
                </div>
                <!-- Results Section -->
                <div id="scc_hic_h2s_results_area" class="mt-6 p-4 bg-gray-50 rounded-lg border">
                    <h4 class="font-bold text-gray-700 mb-3">Calculated Results</h4>
                    <div class="space-y-2">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Susceptibility:</span>
                            <span id="res_scc_hic_h2s_susceptibility" class="font-bold text-gray-800">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">SVI:</span>
                            <span id="res_scc_hic_h2s_svi" class="font-bold text-gray-800">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Damage Factor:</span>
                            <span id="res_scc_hic_h2s_df" class="font-bold text-blue-900 text-2xl">--</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ACSCC -->
        <div id="scc_mech_acscc" class="scc-mechanism-content hidden">
            <div class="form-control mt-4">
                <label class="label cursor-pointer justify-start gap-2">
                    {{ form.mechanism_scc_acscc_active }}
                    <span class="label-text font-semibold">Enable ACSCC Mechanism?</span>
                </label>
            </div>
            <div id="scc_acscc_container" class="hidden mt-4 space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Cracks Observed?</span></label>
                        {{ form.scc_acscc_cracks_observed }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Cracks Removed?</span></label>
                        {{ form.scc_acscc_cracks_removed }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Stress Relieved?</span></label>
                        {{ form.scc_acscc_stress_relieved }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">CO3 Concentration (%)</span></label>
                        {{ form.scc_acscc_co3_conc_percent }}
                    </div>
                </div>
                <div class="divider">Inspection History</div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat A</span></label>
                        {{ form.scc_acscc_inspection_count_a }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat B</span></label>
                        {{ form.scc_acscc_inspection_count_b }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat C</span></label>
                        {{ form.scc_acscc_inspection_count_c }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat D</span></label>
                        {{ form.scc_acscc_inspection_count_d }}
                    </div>
                </div>
                <!-- ACSCC Results -->
                <div id="scc_acscc_results_area" class="mt-6 p-4 bg-gray-50 rounded-lg border">
                    <h4 class="font-bold text-gray-700 mb-3">Calculated Results</h4>
                    <div class="space-y-2">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Susceptibility:</span>
                            <span id="res_scc_acscc_susceptibility" class="font-bold text-gray-800">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">SVI:</span>
                            <span id="res_scc_acscc_svi" class="font-bold text-gray-800">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Damage Factor:</span>
                            <span id="res_scc_acscc_df" class="font-bold text-blue-900 text-2xl">--</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- PASCC -->
        <div id="scc_mech_pascc" class="scc-mechanism-content hidden">
            <div class="form-control mt-4">
                <label class="label cursor-pointer justify-start gap-2">
                    {{ form.mechanism_scc_pascc_active }}
                    <span class="label-text font-semibold">Enable PASCC Mechanism?</span>
                </label>
            </div>
            <div id="scc_pascc_container" class="hidden mt-4 space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Cracks Observed?</span></label>
                        {{ form.scc_pascc_cracks_observed }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Cracks Removed?</span></label>
                        {{ form.scc_pascc_cracks_removed }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Material Sensitized?</span></label>
                        {{ form.scc_pascc_sensitized }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Sulfur Exposure?</span></label>
                        {{ form.scc_pascc_sulfur_exposure }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Downtime Protection?</span></label>
                        {{ form.scc_pascc_downtime_protected }}
                    </div>
                </div>
                <div class="divider">Inspection History</div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat A</span></label>
                        {{ form.scc_pascc_inspection_count_a }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat B</span></label>
                        {{ form.scc_pascc_inspection_count_b }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat C</span></label>
                        {{ form.scc_pascc_inspection_count_c }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat D</span></label>
                        {{ form.scc_pascc_inspection_count_d }}
                    </div>
                </div>
                <!-- PASCC Results -->
                <div id="scc_pascc_results_area" class="mt-6 p-4 bg-gray-50 rounded-lg border">
                    <h4 class="font-bold text-gray-700 mb-3">Calculated Results</h4>
                    <div class="space-y-2">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Susceptibility:</span>
                            <span id="res_scc_pascc_susceptibility" class="font-bold text-gray-800">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">SVI:</span>
                            <span id="res_scc_pascc_svi" class="font-bold text-gray-800">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Damage Factor:</span>
                            <span id="res_scc_pascc_df" class="font-bold text-blue-900 text-2xl">--</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ClSCC -->
        <div id="scc_mech_clscc" class="scc-mechanism-content hidden">
            <div class="form-control mt-4">
                <label class="label cursor-pointer justify-start gap-2">
                    {{ form.mechanism_scc_clscc_active }}
                    <span class="label-text font-semibold">Enable ClSCC Mechanism?</span>
                </label>
            </div>
            <div id="scc_clscc_container" class="hidden mt-4 space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Cracks Observed?</span></label>
                        {{ form.scc_clscc_cracks_observed }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Cracks Removed?</span></label>
                        {{ form.scc_clscc_cracks_removed }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Cl- Concentration
                                (ppm)</span></label>
                        {{ form.scc_clscc_cl_conc_ppm }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Deposits Present?</span></label>
                        {{ form.scc_clscc_deposits_present }}
                    </div>
                </div>
                <div class="divider">Inspection History</div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat A</span></label>
                        {{ form.scc_clscc_inspection_count_a }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat B</span></label>
                        {{ form.scc_clscc_inspection_count_b }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat C</span></label>
                        {{ form.scc_clscc_inspection_count_c }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat D</span></label>
                        {{ form.scc_clscc_inspection_count_d }}
                    </div>
                </div>
                <!-- ClSCC Results -->
                <div id="scc_clscc_results_area" class="mt-6 p-4 bg-gray-50 rounded-lg border">
                    <h4 class="font-bold text-gray-700 mb-3">Calculated Results</h4>
                    <div class="space-y-2">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Susceptibility:</span>
                            <span id="res_scc_clscc_susceptibility" class="font-bold text-gray-800">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">SVI:</span>
                            <span id="res_scc_clscc_svi" class="font-bold text-gray-800">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Damage Factor:</span>
                            <span id="res_scc_clscc_df" class="font-bold text-blue-900 text-2xl">--</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- HSC-HF -->
        <div id="scc_mech_hsc_hf" class="scc-mechanism-content hidden">
            <div class="form-control mt-4">
                <label class="label cursor-pointer justify-start gap-2">
                    {{ form.mechanism_scc_hsc_hf_active }}
                    <span class="label-text font-semibold">Enable HSC-HF Mechanism?</span>
                </label>
            </div>
            <div id="scc_hsc_hf_container" class="hidden mt-4 space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Cracks Observed?</span></label>
                        {{ form.scc_hsc_hf_cracks_observed }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Cracks Removed?</span></label>
                        {{ form.scc_hsc_hf_cracks_removed }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">HF Concentration (%)</span></label>
                        {{ form.scc_hsc_hf_hf_conc_percent }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">HF Present?</span></label>
                        {{ form.scc_hsc_hf_present }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text font-semibold">Hardness (HB)</span></label>
                        {{ form.scc_hsc_hf_hardness_hb }}
                    </div>
                </div>
                <div class="divider">Inspection History</div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat A</span></label>
                        {{ form.scc_hsc_hf_inspection_count_a }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat B</span></label>
                        {{ form.scc_hsc_hf_inspection_count_b }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat C</span></label>
                        {{ form.scc_hsc_hf_inspection_count_c }}
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text text-xs">Cat D</span></label>
                        {{ form.scc_hsc_hf_inspection_count_d }}
                    </div>
                </div>
                <!-- HSC-HF Results -->
                <div id="scc_hsc_hf_results_area" class="mt-6 p-4 bg-gray-50 rounded-lg border">
                    <h4 class="font-bold text-gray-700 mb-3">Calculated Results</h4>
                    <div class="space-y-2">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Susceptibility:</span>
                            <span id="res_scc_hsc_hf_susceptibility" class="font-bold text-gray-800">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">SVI:</span>
                            <span id="res_scc_hsc_hf_svi" class="font-bold text-gray-800">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Damage Factor:</span>
                            <span id="res_scc_hsc_hf_df" class="font-bold text-blue-900 text-2xl">--</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function showSCCMech(mechId) {
        // Hide all mechanism contents
        document.querySelectorAll('.scc-mechanism-content').forEach(el => el.classList.add('hidden'));

        // Show selected mechanism
        document.getElementById(`scc_mech_${mechId}`).classList.remove('hidden');

        // Update tab active state
        document.querySelectorAll('.tabs .tab').forEach(tab => tab.classList.remove('tab-active'));
        event.target.classList.add('tab-active');
    }
</script>